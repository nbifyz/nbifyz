  
![Как изменить оболочку Shell в Linux](https://pingvinus.ru/files/notes2/change-shell/change-shell.jpg)

Оглавление

-   [Что такое командная оболочка](https://pingvinus.ru/note/change-shell#id-Head1)
-   [Оболочки Linux](https://pingvinus.ru/note/change-shell#id-Head2)
-   [Как определить текущую командую оболочку](https://pingvinus.ru/note/change-shell#id-Head3)
    -   [Способ 1](https://pingvinus.ru/note/change-shell#id-Head3-h1)
    -   [Способ 2](https://pingvinus.ru/note/change-shell#id-Head3-h2)
    -   [Способ 3](https://pingvinus.ru/note/change-shell#id-Head3-h3)
-   [Как посмотреть список оболочек, доступных в системе](https://pingvinus.ru/note/change-shell#id-Head4)
-   [Как временно переключиться на другую оболочку](https://pingvinus.ru/note/change-shell#id-Head5)
-   [Как изменить оболочку](https://pingvinus.ru/note/change-shell#id-Head6)
-   [Заключение](https://pingvinus.ru/note/change-shell#id-Head7)

## Что такое командная оболочка

Командная оболочка или командный интерпретатор в Linux — это программа, которая в текстовой среде выступает в качестве интерфейса между пользователем и операционной системой. Она интерпретирует вводимые команды с терминала и вызывает необходимые программы.

Когда вы работаете в терминале, именно командная оболочка обрабатывает вводимые вами команды. Более того, оболочки Linux поддерживают написание программ на языке оболочки.

## Оболочки Linux

Одна из самых популярных командных оболочек — это оболочка Bash (Bourne Again Shell). Она используется по умолчанию в большинстве дистрибутивов Linux.

Существуют разные оболочки Linux. Можно отметить:

-   bash
-   csh
-   dash
-   fish
-   ksh
-   pdksh
-   rbash
-   sh
-   tcsh
-   zsh

Оболочки могут очень сильно отличаться друг от друга. Они отличаются функциональностью, синтаксисом команд, строкой приветствия, дружелюбностью к пользователю и другими параметрами и возможностями.

## Как определить текущую командую оболочку

Есть несколько способов определить оболочку, используемую по умолчанию в вашей системе Linux. Рассмотрим несколько из них, так как в разных системах (и оболочках) какие-то способы могут не сработать.

Также нужно знать, что у разных пользователей системы могут использоваться разные оболочки.

### Способ 1

Переменная окружения SHELL хранит путь до исполняемого файла оболочки. Выполним команду:

```
echo $SHELL
/bin/bash
```

Из вывода команды, мы видим, что используется оболочка bash.

### Способ 2

Также можно воспользоваться командой echo $0. Данная команда выведет на экран имя текущего работающего процесса, внутри которого она выполнена. Так как мы выполняем команду внутри оболочки, то будет выведено имя оболочки.

```
echo $0
bash
```

### Способ 3

Определим, работающий процесс оболочки командой ps.

```
ps -p $$
PID TTY TIME CMD
10792 pts/3 00:00:00 bash
```

![Определить текущую оболочку Shell в Linux](https://pingvinus.ru/files/notes2/change-shell/current-shell.png)

## Как посмотреть список оболочек, доступных в системе

Список оболочек, которые в данный момент установлены и доступны в системе Linux, хранится в файле /etc/shells

Выведем содержимое файла /etc/shells, для этого выполняем команду:

```
cat /etc/shells
# /etc/shells: valid login shells
/bin/sh
/bin/bash
/bin/rbash
/bin/dash
```

![Список командных оболочек Linux](https://pingvinus.ru/files/notes2/change-shell/list-of-shells.png)

## Как временно переключиться на другую оболочку

Чтобы временно переключиться на другую оболочку, достаточно выполнить в терминале команду, соответствующую ее имени. После этого вы переключитесь на новую оболочку.

Например, переключимся на оболочку sh. Выполняем команду:

```
sh
```

![Переключиться на другую оболочку в Linux](https://pingvinus.ru/files/notes2/change-shell/sh.png)

## Как изменить оболочку

Для изменения командной оболочки на постоянной основе служит команда chsh (от слов change shell).

Чтобы изменить оболочку текущего пользователя нужно выполнить команду:

chsh -s путь\_новой\_оболочки

В качестве параметра путь\_новой\_оболочки необходимо указать путь до исполняемого файла оболочки, который вы можете найти в файле /etc/shells ([см. выше](https://pingvinus.ru/note/change-shell#id-Head4)).

Например, изменим оболочку на sh. Для этого выполняем команду (при выполнении команды нужно будет ввести пароль):

```
chsh -s /bin/sh

chsh -s /usr/bin/fish
```

После этого нужно выйти и снова войти в систему.

Чтобы изменить оболочку, используемую по умолчанию, для другого пользователя, то команде _chsh_ необходимо указать имя этого пользователя:

```
chsh -s /bin/sh yuriy
```

## Заключение

Мы рассмотрели, как определить текущую оболочку Linux, как просмотреть список доступных оболочек, а также как изменить оболочку, используемую по умолчанию.

Чтобы получить информацию о какой-либо оболочке (доступной в системе) можно воспользоваться Man-страницами. Например:

```
man rbash
```

Дополнительные оболочки можно устанавливать средствами системы (из репозиториев). Например, для установки оболочки _fish_ в Ubuntu Linux, выполните команду

```
sudo apt install fish
```
